import { NetworkedDOMV02ServerMessage } from "@mml-io/networked-dom-protocol";
import { NetworkedDOM } from "./NetworkedDOM";
export declare class NetworkedDOMV02Connection {
    readonly webSocket: WebSocket;
    private websocketListener;
    externalIdToInternalId: Map<number, number>;
    internalIdToExternalId: Map<number, number>;
    internalIdToToken: Map<number, string | null>;
    private batchMode;
    private batchMessages;
    externalConnectionIds: Set<number>;
    networkedDOM: NetworkedDOM | null;
    private messagesAwaitingNetworkedDOM;
    constructor(webSocket: WebSocket);
    setNetworkedDOM(networkedDOM: NetworkedDOM | null): void;
    setBatchStart(): void;
    setBatchEnd(): void;
    sendMessage(message: NetworkedDOMV02ServerMessage): void;
    sendMessages(messages: Array<NetworkedDOMV02ServerMessage>): void;
    sendEncodedBytes(bytes: Uint8Array): void;
    dispose(): void;
    private handleClientMessage;
    handleBufferedMessages(): void;
}
//# sourceMappingURL=NetworkedDOMV02Connection.d.ts.map