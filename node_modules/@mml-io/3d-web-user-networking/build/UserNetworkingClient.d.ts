import { UserNetworkingClientUpdate, WebsocketFactory, WebsocketStatus } from "./types";
import { UserData } from "./UserData";
import { UserNetworkingLogger } from "./UserNetworkingLogger";
import { CharacterDescription } from "./UserNetworkingMessages";
export type UserNetworkingClientConfig = {
    url: string;
    sessionToken: string;
    websocketFactory: WebsocketFactory;
    statusUpdateCallback: (status: WebsocketStatus) => void;
    assignedIdentity: (clientId: number) => void;
    onServerError: (error: {
        message: string;
        errorType: string;
    }) => void;
    onCustomMessage?: (customType: number, contents: string) => void;
    onUpdate(update: NetworkUpdate): void;
};
export type AddedUser = {
    userState: UserData;
    components: UserNetworkingClientUpdate;
};
export type UpdatedUser = {
    userState?: Partial<UserData>;
    components: UserNetworkingClientUpdate;
};
export type NetworkUpdate = {
    removedUserIds: Set<number>;
    addedUserIds: Map<number, AddedUser>;
    updatedUsers: Map<number, UpdatedUser>;
};
export declare class UserNetworkingClient {
    private config;
    private logger;
    private deltaNetClient;
    private deltaNetState;
    private userId;
    private userIndex;
    private userState;
    private stableIdToUserId;
    private userProfiles;
    private isAuthenticated;
    private pendingUpdate;
    constructor(config: UserNetworkingClientConfig, initialUserState?: UserData, initialUpdate?: UserNetworkingClientUpdate, logger?: UserNetworkingLogger);
    private reset;
    private sendInitialAuthentication;
    private processNetworkUpdate;
    sendUpdate(update: UserNetworkingClientUpdate): void;
    sendCustomMessage(customType: number, contents: string): void;
    updateUsername(username: string): void;
    updateCharacterDescription(characterDescription: CharacterDescription): void;
    updateColors(colors: Array<[number, number, number]>): void;
    stop(): void;
}
//# sourceMappingURL=UserNetworkingClient.d.ts.map