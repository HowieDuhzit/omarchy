import { DeltaNetV01ServerMessage } from "@mml-io/delta-net-protocol";
import { DeltaNetServer } from "./DeltaNetServer";
export declare class DeltaNetV01Connection {
    readonly webSocket: WebSocket;
    readonly deltaNetServer: DeltaNetServer;
    private websocketListener;
    readonly internalConnectionId: number;
    isObserver: boolean;
    components: Map<number, bigint>;
    states: Map<number, Uint8Array<ArrayBufferLike>>;
    private pendingStateValidations;
    private nextValidationId;
    private isAuthenticated;
    private isAuthenticating;
    private authenticationAbortController;
    constructor(webSocket: WebSocket, deltaNetServer: DeltaNetServer);
    sendMessage(message: DeltaNetV01ServerMessage): void;
    sendEncodedBytes(bytes: Uint8Array): void;
    dispose(): void;
    setAuthenticated(): void;
    private disconnectWithError;
    private handleConnectUser;
    handleStateUpdate(stateId: number, stateValue: Uint8Array): Promise<void>;
    private handleClientMessage;
}
//# sourceMappingURL=DeltaNetV01Connection.d.ts.map