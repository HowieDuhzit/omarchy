import { BufferReader } from "../../../BufferReader";
import { BufferWriter } from "../../../BufferWriter";
import { DecodeServerMessageOptions } from "../../decodeServerMessages";
/**
 * Represents state updates in a tick message.
 * States are not updated every tick, so they are specified as indices that have changed and their new values.
 */
export type DeltaNetV01StateUpdates = {
    /** Unique identifier for the state */
    stateId: number;
    /** Array of [index, value] pairs for updated states */
    updatedStates: Array<[number, Uint8Array]>;
};
/**
 * Represents component updates in a tick message.
 * Uses second-order delta compression (deltas of deltas) for efficient updates.
 */
export type DeltaNetV01ComponentTick = {
    /** Unique identifier for the component */
    componentId: number;
    /** The second-order delta values (deltas of deltas) from the previous tick */
    deltaDeltas: BigInt64Array;
};
/**
 * Regular state update message sent at configurable intervals (typically 5-20Hz).
 * Contains updates to components and states, as well as information about user indices.
 */
export type DeltaNetV01Tick = {
    /** Message type identifier */
    type: "tick";
    /** Current server time */
    serverTime: number;
    /** Indices of users that have been removed since the last tick */
    removedIndices: Array<number>;
    /** Current number of user indices in the system */
    indicesCount: number;
    /** Array of component updates using second-order delta compression */
    componentDeltaDeltas: Array<DeltaNetV01ComponentTick>;
    /** Array of state updates */
    states: Array<DeltaNetV01StateUpdates>;
};
/**
 * Encodes a tick message into a binary buffer.
 * @param msg - The message to encode
 * @param writer - Optional BufferWriter instance to use (creates a new one if not provided)
 * @returns The BufferWriter containing the encoded message
 */
export declare function encodeTick(msg: DeltaNetV01Tick, writer?: BufferWriter): BufferWriter;
export declare const lastTickDebugData: {
    componentsByteLength: number;
    statesByteLength: number;
};
/**
 * Decodes a tick message from a binary buffer.
 * Assumes that the first byte (message type) has already been read.
 * @param buffer - The BufferReader containing the message data
 * @param opts - Optional options for decoding, such as ignoring data
 * @returns The decoded tick message
 */
export declare function decodeTick(buffer: BufferReader, opts?: DecodeServerMessageOptions): DeltaNetV01Tick;
//# sourceMappingURL=tick.d.ts.map