export type DeltaNetClientWebsocketFactory = (url: string) => WebSocket;
export declare enum DeltaNetClientWebsocketStatus {
    Connecting = 0,
    ConnectionOpen = 1,// The websocket is open and connected, but no messages have been received yet
    Connected = 2,// The websocket is open and connected, and messages are being received
    Reconnecting = 3,
    Disconnected = 4
}
export declare function DeltaNetClientWebsocketStatusToString(status: DeltaNetClientWebsocketStatus): string;
export type DeltaNetClientWebsocketInitialCheckout = {
    indicesCount: number;
    initialComponents: Map<number, {
        values: BigInt64Array;
        deltas: BigInt64Array;
    }>;
    initialStates: Map<number, Array<Uint8Array>>;
};
export type DeltaNetClientWebsocketTick = {
    unoccupying: Array<number>;
    indicesCount: number;
    componentDeltaDeltas: Map<number, BigInt64Array>;
    stateChanges: Map<number, Map<number, Uint8Array>>;
};
export type DeltaNetClientWebsocketUserIndex = {
    userIndex: number;
};
export type DeltaNetClientWebsocketOptions = {
    ignoreData?: boolean;
    observer?: boolean;
    onUserIndex: (userIndex: DeltaNetClientWebsocketUserIndex) => void;
    onInitialCheckout: (initialCheckout: DeltaNetClientWebsocketInitialCheckout) => void;
    onTick: (tick: DeltaNetClientWebsocketTick) => void;
    onError: (errorType: string, errorMessage: string, retryable: boolean) => void;
    onWarning: (warning: string) => void;
    onServerCustom?: (customType: number, contents: string) => void;
};
export type DeltaNetClientWebsocketAdapter = {
    receiveMessage: (message: MessageEvent) => void;
    setUserComponents: (components: Map<number, bigint>, changedStates: Map<number, Uint8Array>) => void;
    sendCustomMessage: (customType: number, contents: string) => void;
    didConnect: () => boolean;
    dispose: () => void;
};
/**
 * DeltaNetClientWebsocket is a client for a DeltaNetServer. It connects to a server on the provided url and receives
 * updates to the DOM. It also sends events to the server for interactions with the DOM.
 *
 * The DeltaNetClientWebsocket is attached to a parentElement and synchronizes the received DOM under that element.
 */
export declare class DeltaNetClientWebsocket {
    private url;
    private websocketFactory;
    private token;
    private options;
    private timeCallback?;
    private statusUpdateCallback?;
    private websocket;
    private websocketAdapter;
    private stopped;
    private backoffTime;
    private status;
    bandwidthPerSecond: number;
    lastSecondMessageSizes: Array<[number, number]>;
    componentBytesPerSecond: number;
    lastSecondComponentBufferSizes: Array<[number, number]>;
    stateBytesPerSecond: number;
    lastSecondStateBufferSizes: Array<[number, number]>;
    static createWebSocket(url: string): WebSocket;
    constructor(url: string, websocketFactory: DeltaNetClientWebsocketFactory, token: string, options: DeltaNetClientWebsocketOptions, timeCallback?: ((time: number) => void) | undefined, statusUpdateCallback?: ((status: DeltaNetClientWebsocketStatus) => void) | undefined);
    private setStatus;
    getStatus(): DeltaNetClientWebsocketStatus;
    private createWebsocketWithTimeout;
    private waitBackoffTime;
    private startWebSocketConnectionAttempt;
    stop(): void;
    setUserComponents(components: Map<number, bigint>, changedStates: Map<number, Uint8Array>): void;
    sendCustomMessage(customType: number, contents: string): void;
}
//# sourceMappingURL=DeltaNetClientWebsocket.d.ts.map